# پیکربندی

این افزونه به شما امکان می‌دهد انواع مختلفی از اعلان‌ها را برای مشتریان خود، در صفحات انتخاب شده در قالب لاگوم نمایش دهید.

## صفحه اصلی اعلان‌ها

### لیست اعلان ها

![تنظیمات افزونه](/client-notif/notifications_list.png)

در زیر توضیحی از ستون‌های نمایش داده شده در جدول "Notifications" آمده است.

1. **Name** - نام اعلان ایجاد شده را نشان میدهد، با کلیک روی این متن به صفحه مدیریت هدایت میشوید.
2. **Start Date** - تاریخ **شروع** نمایش اعلان‌ها در قالب لاگوم. وقتی `-` نمایش داده شود، تاریخ شروع ثبت نمیشود.
3. **End Date** -تاریخ **پایان** نمایش اعلان‌ها در قالب لاگوم. وقتی `-` نمایش داده شود، تاریخ پایان ثبت نمیشود.
4. **Status** - نمایش وضعیت اعلان‌ها.
   - **Published** - اعلان منتشر شده و در قالب لاگوم نمایش داده خواهد شد.
   - **Disabled** - اعلان‌ها در قالب لاگوم نمایش داده نمیشوند.
5. **Actions**

   - **Manage** - به صفحه مدیریت اعلان انتخاب شده هدایت میشود.
   - **Deactivate** - غیرفعال کردن اعلان انتخاب شده
   - **Duplicate** - امکان کپی کردن سریع اعلان و تمام تنظیمات آن را فراهم میکند. اعلان کپی شده در لیست با عبارت "duplicate" در انتهای نام اعلان نمایش داده میشود.
   - **Delete** - اعلان انتخاب شده را حذف میکند. این اقدام قابل برگشت نیست.

### امپورت اعلان ها

هر یک از اعلان‌ها را میتوان به راحتی خروجی و سپس با کلیک بر روی دکمه "Import" آنها را وارد کرد. درباره عملکرد [امپورت و اکسپورت](#) بیشتر بدانید.

![تنظیمات افزونه](/client-notif/notifications_list-import.png)

## پیکربندی اعلان

### Display Rules

تعریف کنید که برای چه شرایطی اعلان‌های خاصی باید برای مشتریان شما در قالب لاگوم نمایش داده شود. با کلیک بر روی دکمه "on/off" در سمت راست هر پنل، می‌توانید فیلترهای خاصی را فعال و پیکربندی کنید، همانطور که در ویدیوی زیر نشان داده شده است.

{% video src="/client-notif/display_filter.mp4" %}{% /video %}

#### فیلتر صفحات

{% callout type="error" title="مهم" %}
صفحاتی که از طریق "Selected Pages" و "Excluded Pages" که مربوط به فرآیند سفارش هستند انتخاب میشوند، برای افزونه فرم سفارش تک مرحله‌ای لاگوم کار نخواهند کرد.
{% /callout %}

"Page Filters" به شما امکان میدهد انتخاب کنید که اعلان در کدام صفحات خاص برای مشتریان شما در قالب لاگوم نمایش داده شود.
![تنظیمات افزونه](/client-notif/configuration-display_rules-page_filters-custom_url-02.png)

##### دسته های صفحه

انتخاب کنید که برای کدام دسته از صفحات، اعلان نمایش داده شود. 3 دسته مختلف تعریف شده است:

1. **Client Pages** - همه صفحات به جز صفحات فرآیند سفارش.
2. **Order Pages** - همه صفحات به جز صفحات ناحیه کاربری.
3. **Website Pages** - این گزینه فقط زمانی قابل مشاهده خواهد بود که ["CMS"](#) در سیستم فعال شود. پس از انتخاب، اعلان در تمام صفحات تولید شده توسط [سایت ساز لاگوم](https://designesia.ir/downloads/lagom-website-builder/) نمایش داده میشود.

##### Selected Pages

انتخاب کنید که اعلان برای چه صفحات خاصی نمایش داده شود. میتوانید چندین گزینه را انتخاب کنید. این فیلتر صفحات زیر را فهرست می‌کند:

1. **Client Area** - صفحات فهرست‌ شده در ["Page Manager"](#) در دسته "Client Area".
2. **Order Process** - صفحات فهرست‌ شده در ["Page Manager"](#) در دسته "Order Process".
3. **Product Groups** - لیست تمام "گروه‌های محصول" قابل مشاهده که در [پنل ادمین WHMCS](https://docs.whmcs.com/Products_and_Services#Product_Groups) ایجاد شده‌اند.
4. **Support Departments** - لیست تمام "دپارتمان های پشتیبانی" قابل مشاهده که در [پنل ادمین WHMCS](https://docs.whmcs.com/Support_Departments) ایجاد شده‌اند.
5. **CMS Pages** - فهرست تمام صفحات تولید شده توسط [سایت ساز لاگوم](https://designesia.ir/downloads/lagom-website-builder/)

##### Excluded Pages

انتخاب کنید که در کدام صفحات، اعلان انتخاب شده نمایش داده **نشود**. میتوانید چندین گزینه را انتخاب کنید.

##### پیکربندی آدرس سفارشی {% version v="1.1.1" %}{% /version %}

این گزینه به شما امکان میدهد آدرس های سفارشی را مشخص کنید که اعلان باید در کجا نمایش داده شود یا حذف شود. این برای هدف قرار دادن آدرس های خاص یا کلمات کلیدی که جزئی از دسته بندی های از پیش تعریف شده صفحه نیستند مفید است. پس از انتخاب آدرس سفارشی در بخش های صفحات انتخاب شده یا صفحات حذف شده، فیلدهای زیر را مشاهده خواهید کرد:

1. **Page URL / Keyword** - آدرس اینترنتی یا کلمه کلیدی خاصی را که میخواهید اعلان در آن نمایش داده شود یا حذف شود، وارد کنید. برای مثال، میتوانید یک آدرس اینترنتی کامل مانند `https://demo.rsstudio.net/lagom/store/web-hosting` یا فقط یک کلمه کلیدی که بخشی از آدرس اینترنتی است مانند `hosting` را وارد کنید.
1. **Condition** - اگر آدرس باید دقیقاً مطابقت داشته باشد، گزینه «is exactly» یا اگر آدرس باید شامل متن مشخص شده باشد، گزینه «contains» را انتخاب کنید. این انعطاف‌پذیری به شما امکان می‌دهد اعلان‌ها را بر اساس تطابق جزئی یا آدرس های دقیق هدف‌گیری کنید.
1. برای افزودن آدرس ها یا کلمات کلیدی اضافی، از دکمه "**Add more**" استفاده کنید. برای حذف شرط مربوطه، روی دکمه "**Remove**" در سمت راست کلیک کنید.

**نمونه هایی از موارد استفاده**

1. تطبیق دقیق آدرس:
   - **موارد استفاده**: فرض کنید می‌خواهید یک اعلان را فقط در صفحه اصلی ماژول SupportCenter نمایش دهید. آدرس: `https://www.examplehost.com/index.php?m=SupportCenter`
   - **وضعیت**: is exactly
   - **توضیح**: این پیکربندی تضمین میکند که اعلان فقط در صفحه خاص و نه در هیچ زیرصفحه‌ای نمایش داده شود و پیام‌رسانی هدفمندی را برای کاربران آن صفحه فراهم کند.
2. تطبیق جزئی آدرس:
   - **موارد استفاده**: تصور کنید که میخواهید اعلان در صفحه اصلی ماژول SupportCenter و تمام زیرصفحات آن نمایش داده شود.
   - **کلمه کلیدی**: SupportCenter
   - **وضعیت**: contains
   - **توضیح**: با استفاده از این پیکربندی، اعلان در هر آدرس صفحه‌ای که شامل کلمه کلیدی باشد، ظاهر میشود و تضمین میکند که هم در صفحه اصلی و هم در زیرصفحات مرتبط مانند `SupportCenter&action=settings` نمایش داده شود.

#### Client Filters

"Client Filters" به شما امکان میدهد انتخاب کنید که اعلان برای کدام مشتریان، در قالب لاگوم نمایش داده شود.
![تنظیمات افزونه](/client-notif/configuration-display_rules-client_filters-02.png)

1. **Client Status** - تعریف کنید که اعلان برای چه نوع کاربرانی نمایش داده شود.
   - **Logged In Client**
   - **Logged Out Client**
2. **Client(s)** - مشتریان خاصی را انتخاب کنید که اعلان باید برای آنها نمایش داده شود. مشتریان را می‌توان در [پنل ادمین WHMCS](https://docs.whmcs.com/Client_Management) مدیریت کرد. انتخاب چندگانه مجاز است. این فیلتر فقط برای مشتریان وارد شده اعمال می‌شود.
   - اگر نمیتوانید مورد خاصی را در لیست پیدا کنید، نام آن را تایپ کنید و آیتم مورد نظر ظاهر میشود.
3. **Group** - گروه‌های کاربری که اعلان باید برای آنها نمایش داده شود را تعریف کنید. گروه‌های کاربری را میتوان در [پنل ادمین WHMCS](https://docs.whmcs.com/Client_Groups) تنظیم کرد. انتخاب چندگانه مجاز است. این فیلتر فقط برای کاربرانی که وارد سیستم شده‌اند اعمال میشود.
4. **Client Country** - کشورهایی را که اعلان باید برای مشتریان نمایش داده شود، انتخاب کنید. میتوانید کشورهای مشتری را در [سیستم WHMCS](https://docs.whmcs.com/Customising_Countries_and_Calling_Codes) خود پیکربندی کنید. انتخاب چندگانه مجاز است. این فیلتر فقط برای مشتریان وارد شده اعمال میشود.
5. **Marketing Emails Opt-in Status** - فیلتر کردن مشتریان را بر اساس تنظیمات ایمیل آنها - چه آنها دریافت ایمیل را انتخاب کرده باشند و چه از آن انصراف داده باشند - فعال میکند.
6. **Days Since Sign Up** - به شما امکان میدهد تعداد روزهای مشخصی را از زمان ثبت‌ نام کاربر برای فعال کردن اعلان تنظیم کنید. به عنوان مثال، تنظیم این عدد روی 31، اعلانی را برای کاربرانی که 30 روز یا کمتر از ثبت‌ نام آنها گذشته است، نشان میدهد. این ویژگی برای هدف قرار دادن مشتریان جدید طراحی شده است و تضمین میکند که آنها پیام‌های مهم را در طول دوره اولیه تعامل خود دریافت کنند.

#### Services Assigned To Client Filters

"Services Assigned To Client Filters" به شما امکان میدهد تصمیم بگیرید که چه سرویس‌ها و پیکربندی‌هایی باید به حساب مشتری اختصاص داده شوند. همه فیلترهای این گروه فقط برای مشتریان وارد شده به سیستم کار میکنند و برای مشتریان وارد نشده اعمال نخواهند شد.

![تنظیمات افزونه](/client-notif/configuration-display_assigned-services_filters-01.png)

1. **Service(s)** - انتخاب کنید که چه سرویس‌ هایی باید به مشتری شما اختصاص داده شوند. این فیلتر تمام سرویس‌ های پیکربندی شده در [پنل ادمین WHMCS](https://docs.whmcs.com/Products_and_Services#Products) را فهرست میکند. میتوانید چندین گزینه برای این فیلتر انتخاب کنید.

   - اگر نمیتوانید مورد خاصی را در لیست پیدا کنید، نام آن را تایپ کنید و آیتم مورد نظر ظاهر میشود.

2. **Status** - انتخاب کنید که چه وضعیتی باید به سرویس مشتری اختصاص داده شود. میتوانید چندین گزینه برای این فیلتر انتخاب کنید. WHMCS وضعیت‌های زیر را برای "سروس ها" ارائه میدهد:
   - **Pending** - سرویس در انتظار تایید است.
   - **Active** - سرویس فعال است.
   - **Completed** - برای سروس های یکبار پرداخت مناسب است تا نشان دهد که انجام شده‌اند (فاکتور دیگری ایجاد نخواهد شد).
   - **Suspended** - سرویس موقتاً متوقف شده است و به طور خودکار برای سرویس‌های سررسید استفاده میشود.
   - **Terminated** - سرویس به‌طور دائم متوقف و داده‌ها حذف میشوند و به‌طور خودکار برای سرویس‌ های سررسید استفاده میشوند (فاکتور دیگری تولید نخواهد شد).
   - **Cancelled** - سرویس به طور دائم متوقف شده و داده‌ها به درخواست مشتری حذف میشوند (فاکتور دیگری تولید نخواهد شد).
   - **Fraud** - سفارش به عنوان کلاهبرداری علامت گذاری شده است (فاکتور دیگری تولید نخواهد شد).
3. **Servers List** - انتخاب کنید که کدام سرورها باید به مشتری شما اختصاص داده شوند. انتخاب‌های چندگانه برای این فیلتر مجاز است.
4. **Servers Group(s)** - انتخاب کنید که کدام گروه‌های سرور باید به مشتری شما اختصاص داده شوند. انتخاب‌های چندگانه برای این فیلتر مجاز است.
5. **Billing Cycle** - [چرخه صورتحساب](https://docs.whmcs.com/Clients:Products/Services_Tab#Billing_Cycle) اختصاص داده شده به سرویس مشتری را انتخاب کنید. میتوانید چندین گزینه برای این فیلتر انتخاب کنید.
6. **Registration Date** - با انتخاب تاریخ "start" فقط برای فیلد اول، "Registration Date" را انتخاب کنید، یا با اضافه کردن تاریخ "end" به فیلد دوم، محدوده تاریخ را تعریف کنید.
7. **Next Due Date** - با انتخاب تاریخ "start" فقط برای فیلد اول، تاریخ "Due Date" را انتخاب کنید، یا با اضافه کردن تاریخ "end" به فیلد دوم، محدوده تاریخ را تعریف کنید.
8. **Days Until Due Date** - با وارد کردن مقدار فقط برای فیلد اول، مبلغ دقیق **تا** "تاریخ سررسید" را انتخاب کنید، یا با اضافه کردن مقدار به فیلد دوم، محدوده را تعریف کنید. برای نادیده گرفتن آن فیلتر، این قسمت را خالی بگذارید.
9. **Days After Due Date** - با وارد کردن مقدار فقط برای فیلد اول، مبلغ دقیق را **پس از** "تاریخ سررسید" انتخاب کنید، یا با اضافه کردن مقدار به فیلد دوم، محدوده را تعریف کنید. برای نادیده گرفتن آن فیلتر، این قسمت را خالی بگذارید.
10. **Filtered Service(s)** - تعداد سرویس هایی که باید به حساب مشتری اختصاص داده شود تا اعلان فعال شود را انتخاب کنید.
    - **Disabled** - فیلتر نادیده گرفته خواهد شد.
    - **None** - در صورتی که هیچ سرویسی به حساب مشتری اختصاص داده نشده باشد، اعلان نمایش داده میشود.
    - **Less Than** - اگر تعداد کل سرویس های دریافت شده توسط مشتری کمتر از مقدار مشخص شده **کمتر** باشد، اعلان نمایش داده میشود.
    - **More Than** - اگر تعداد کل سرویس های دریافت شده توسط مشتری از مقدار مشخص شده **بیشتر** شود، اعلان نمایش داده میشود.

#### Services Not Assigned To Client Filters

"Services Not Assigned To Client Filters" به شما امکان میدهد تعریف کنید که کدام سرویس‌ ها را نمیتوان به حساب مشتری اختصاص داد تا اعلان نمایش داده شود. این فیلترها فقط برای مشتریان وارد شده اعمال میشوند و روی کاربرانی که وارد سیستم نشده‌اند تأثیری ندارند.
![تنظیمات افزونه](/client-notif/configuration-display_not-assigned-services_filters-01.png)

1. **Service(s)** - مشخص کنید کدام سرویس ها را نمیتوان به یک مشتری اختصاص داد. این فیلتر تمام سرویس‌ های پیکربندی شده در پنل ادمین WHMCS را فهرست میکند. انتخاب‌های چندگانه پشتیبانی میشوند.

#### Service Configurable Option Filters

"Configurable Options Filters" فقط زمانی نمایش داده میشود که "Service Filters" فعال باشد و فیلد "Services" شامل محصولاتی باشد که گزینه‌ها در [تنظیمات محصول WHMCS](https://docs.whmcs.com/Configurable_Options) به آنها اختصاص داده شده است.

فهرست فیلدهای این فیلتر به انواع گزینه‌ ها اختصاص داده شده به محصول خاص بستگی دارد. گزینه‌ها را میتوان در [پنل ادمین WHMCS](https://docs.whmcs.com/Configurable_Options) ایجاد و مدیریت کرد.
{% video src="/client-notif/display_filter-configurable_options.mp4" %}{% /video %}

#### Domain Filters

"Domain Filters" به شما امکان میدهد تصمیم بگیرید که چه دامنه و پیکربندی آن باید به حساب مشتری اختصاص داده شود، بنابراین اعلان در قالب لاگوم نمایش داده میشود. همه فیلترهای این گروه فقط برای مشتری وارد شده کار میکنند و برای مشتری وارد نشده اعمال نمیشوند.
![تنظیمات افزونه](/client-notif/display_rules-domain_filter-01.png)

1. **TLD(s)** - مشخص کنید که چه دامنه‌ای باید به حساب کاربری شما اختصاص داده شود، تا این اعلان نمایش داده شود. این فیلتر تمام دامنه های پیکربندی شده در [پنل ادمین WHMCS](https://docs.whmcs.com/Domain_Pricing#Adding_a_New_TLD) شما را فهرست میکند. میتوانید چندین گزینه برای این فیلتر انتخاب کنید.
2. **Status** - تعریف کنید که چه وضعیت TLD باید به دامنه مشتری اختصاص داده شود. میتوانید چندین گزینه را در این فیلتر انتخاب کنید.
3. **Registrar** - تعریف کنید که چه ریجستراری باید به دامنه‌ی مشتری اختصاص داده شود. میتوانید چندین گزینه را در این فیلتر انتخاب کنید.
4. **Billing Cycle** - انتخاب کنید که چه چرخه صورتحسابی باید به دامنه مشتری اختصاص داده شود. میتوانید چندین گزینه را در این فیلتر انتخاب کنید.
5. **Registration Date** - با انتخاب تاریخ شروع فقط برای فیلد اول، تاریخ ثبت را انتخاب کنید، یا با اضافه کردن تاریخ پایان به فیلد دوم، محدوده تاریخ را تعریف کنید.
6. **Days Since Activation** - با انتخاب تاریخ شروع فقط برای فیلد اول، تاریخ ثبت را انتخاب کنید، یا با اضافه کردن تاریخ پایان به فیلد دوم، محدوده تاریخ را تعریف کنید.
7. **Expiry Date** - با انتخاب تاریخ شروع فقط برای فیلد اول، تاریخ انقضا را انتخاب کنید، یا با اضافه کردن تاریخ پایان به فیلد دوم، محدوده تاریخ را تعریف کنید.
8. **Days Until Due Date** - با وارد کردن مقدار فقط برای فیلد اول، مبلغ **تا** "تاریخ سررسید" را انتخاب کنید، یا با اضافه کردن مقدار به فیلد دوم، محدوده را تعریف کنید. برای نادیده گرفتن آن فیلتر، این قسمت را خالی بگذارید.
9. **Days After Due Date** - با وارد کردن مقدار فقط برای فیلد اول، مبلغ **پس از** "تاریخ سررسید" را انتخاب کنید، یا با اضافه کردن مقدار به فیلد دوم، محدوده را تعریف کنید. برای نادیده گرفتن آن فیلتر، این قسمت را خالی بگذارید.
10. **Filtered Domain(s)** - تعداد دامنه‌های مورد نیاز برای اختصاص به حساب مشتری جهت فعالسازی اعلان را انتخاب کنید.
    - **Disabled** - فیلتر نادیده گرفته خواهد شد.
    - **None** - در صورتی که هیچ دامنه‌ای به حساب مشتری اختصاص داده نشده باشد، اعلان نمایش داده میشود.
    - **Less Than** - اگر تعداد کل دامنه‌های خریداری شده توسط مشتری **کمتر** از مقدار مشخص شده باشد، اعلان نمایش داده میشود.
    - **More Than** - اگر تعداد کل دامنه‌های خریداری شده توسط مشتری از مقدار مشخص شده **بیشتر** شود، اعلان نمایش داده میشود.

#### Shopping Cart Filters

{% callout type="error" title="مهم" %}
"Shopping Cart Filters" در حال حاضر با فرم سفارش تک مرحله‌ای لاگوم سازگار نیستند، زیرا فرآیند سفارش جداگانه‌ای را ارائه میدهد.
{% /callout %}

"Shopping Cart Filters" قابلیتی در افزونه‌ی اعلان‌ مشتری لاگوم است که به شما امکان میدهد پیام‌های هدفمند را بر اساس session سبد خرید فعلی مشتری نمایش دهید.
![تنظیمات افزونه](/client-notif/configuration-display_shopping-cart_filters-01.png)

1. **Cart Items** - تعداد محصولات مورد نیاز در سبد خرید برای نمایش اعلان را کنترل میکند.
   - **Disabled** - فیلتر نادیده گرفته میشود.
   - **None** - اعلان فقط زمانی نمایش داده میشود که سبد خرید خالی باشد.
   - **Less Than** - اگر تعداد محصولات موجود در سبد خرید **کمتر** از مقدار مشخص شده باشد، اعلان نمایش داده میشود.
   - **More Than** - اگر تعداد محصولات موجود در سبد خرید از مقدار مشخص شده **بیشتر** شود، اعلان نمایش داده میشود.
2. **Cart "Currency" Amount** - مقدار سبد خرید مورد نیاز برای نمایش اعلان در صفحه مشاهده سبد خرید را تعریف کنید. این فیلتر را میتوان برای هر ارز موجود در وبسایت شما به‌طور جداگانه پیکربندی کرد.
   - **Disabled** - فیلتر نادیده گرفته میشود.
   - **Less Than** - اگر مجموع قیمت محصولات موجود در سبد خرید **کمتر** از مقدار مشخص شده باشد، اعلان نمایش داده میشود.
   - **More Than** - اگر مجموع قیمت محصولات موجود در سبد خرید از مقدار مشخص شده **بیشتر** شود، اعلان نمایش داده میشود.
3. **Cart Products** - شرایط مرتبط با محصول که باعث فعال شدن اعلان میشوند را تعریف میکند.
   - **Disabled** - فیلتر نادیده گرفته میشود.
   - **Contains all selected** - اعلان فقط در صورتی نمایش داده میشود که همه محصولات انتخاب شده در سبد خرید موجود باشند.
   - **Contains any of selected** - اگر حداقل یکی از محصولات انتخاب شده در سبد خرید باشد، اعلان نمایش داده میشود.
   - **Does not contain any of selected** - اعلان فقط در صورتی نمایش داده میشود که هیچ یک از محصولات انتخاب شده در سبد خرید وجود نداشته باشد.
4. **Cart Promocode** - تعیین میکند که آیا اعلان باید بر اساس استفاده از کد تخفیف در هنگام پرداخت نمایش داده شود یا خیر.
   - **Disabled** - فیلتر نادیده گرفته میشود.
   - **Applied** - در صورت اعمال کد تخفیف، در صفحه مشاهده سبد خرید، اعلان نمایش داده میشود. این گزینه همچنین به شما امکان میدهد مشخص کنید دقیقاً کدام کد تخفیف باید اعلان را فعال کند.
   - **Not Applied** - در صورت عدم اعمال کد تخفیف در صفحه مشاهده سبد خرید، اعلان نمایش داده میشود.

### Display Conditions

شرایطی را که تحت آن مشتریان شما میتوانند اعلان خاصی را ببندند، و همچنین زمان نمایش اعلان را تعریف کنید.

#### Display Close Icon

پس از ایجاد اعلان جدید، گزینه "Display Close Icon" به طور پیشفرض غیرفعال است. وقتی این گزینه فعال شود، آیکون "بستن" برای اعلان انتخاب شده نمایش داده میشود.
![تنظیمات افزونه](/client-notif/configuration-display_conditions-01.png)

#### Choose When Notification Should Be Shown Again

این گزینه به شما امکان می‌دهد تعریف کنید که یک اعلان پس از بسته شدن توسط مشتری، چه زمانی دوباره ظاهر شود.
![تنظیمات افزونه](/client-notif/configuration-display_conditions-02.png)

1. **Show After Every Page Reload** - اعلان هر بار که صفحه بارگذاری مجدد شود، نمایش داده میشود.
1. **Show At The User’s Next Login** - دفعه‌ی بعدی که کاربر وارد حساب کاربری خود شود، اعلان نمایش داده میشود. برای مشتریان مهمان، اعلان پس از هر بار بارگذاری مجدد صفحه نمایش داده میشود.
1. **Show After a Specific Number of Days** - اعلان پس از تعداد روز مشخصی دوباره ظاهر میشود. با انتخاب این گزینه، تنظیمات اضافی زیر در دسترس خواهند بود:
   - **Enter Number of Days** - تعداد روزهایی را که پس از آن اعلان دوباره نمایش داده میشود، مشخص کنید.
   - **Require Confirmation Checkbox** - در صورت فعال بودن، مشتری قبل از بستن اعلان باید کادر انتخاب را علامت بزند. اگر کادر انتخاب علامت زده نشود، اعلان پس از بارگذاری مجدد صفحه بعدی دوباره ظاهر میشود. در صورت غیرفعال بودن، اعلان دوباره ظاهر نمیشود و نیازی به تأیید مشتری نخواهد بود.
1. **Do Not Show Again After Closing** - اعلان پس از بسته شدن دوباره ظاهر نمیشود

### Notification Style

#### Notification Type

نوع اعلان را تعیین کنید. میتوانید از بین چندین گزینه که در زیر ذکر شده است، انتخاب کنید.
![تنظیمات افزونه](/client-notif/notification_style-type.png)

##### Alert

نمایش اعلان به صورت کادر "هشدار"، که در زیر عنوان صفحه نشان داده میشود.
![تنظیمات افزونه](/client-notif/notification_style-alert_info.png)

##### Modal

نمایش اعلان به صورت "Modal" در هنگام بارگذاری صفحه. میتوانید چندین مودال را در یک صفحه نمایش دهید.
{% video src="/client-notif/notification_style-modal.mp4" %}{% /video %}

##### Floating Alert

اعلان‌ها را به صورت هشدارهای شناور در بالای منو نمایش دهید. این هشدارها در بالای پنجره مرورگر ثابت میمانند و تضمین میکنند که اعلان شما همیشه هنگام پیمایش مشتریان در وب‌سایت شما به وضوح قابل مشاهده باشد.
![تنظیمات افزونه](/client-notif/notification_style-floating_bar.png)

#### Notification State

تعریف کنید که چه سبکی باید برای اعلان استفاده شود. این گزینه رنگ آیکون را در "Modal" تغییر میدهد، علاوه بر این، رنگ نوار سمت چپ را برای نوع اعلان "Alert" تعریف میکند.
![تنظیمات افزونه](/client-notif/notification_style-state.png)

1. **Default** - اعلان استاندارد، که آیکون را به رنگ خاکستری نمایش میدهد و نوار سمت چپ را از نوع اعلان «هشدار» حذف میکند.
1. **Info** - اعلان اطلاعاتی، حاوی رنگ‌های آبی.
1. **Success** - اعلان موفقیت، حاوی رنگ‌های سبز.
1. **Warning** - اعلان هشدار، حاوی رنگ‌های نارنجی.
1. **Danger** - اعلان خطر، حاوی رنگ‌های قرمز.
1. **Primary** - اعلان با سبک رنگ اصلی، که آیکون را به رنگ خاکستری نمایش میدهد. میتوانید رنگ‌های گرادینت اصلی را در [مدیریت استایل ها](/lagom/style-manager) تغییر دهید
1. **Secondary** - اعلان با سبک رنگ ثانویه، که آیکون را به رنگ خاکستری نمایش میدهد. میتوانید رنگ‌های گرادینت اصلی را در [مدیریت استایل ها](/lagom/style-manager) تغییر دهید
1. **Gray** - اعلان استاندارد با پس‌زمینه خاکستری. میتوانید رنگ‌ های گرادینت خاکستری را در [مدیریت استایل ها](/lagom/style-manager) تغییر دهید

#### Notification Buttons Location

محل قرارگیری دکمه‌های ایجاد شده از طریق ["مدیریت دکمه‌ها"](#) را انتخاب کنید. این بخش، بر اساس [نوع اعلان](#notification-type) انتخاب شده، گزینه‌های مختلفی را نمایش میدهد.
![تنظیمات افزونه](/client-notif/notification_style-buttons_location.png)

##### گزینه های اعلان نوع "Alert"

1. **Right** - دکمه‌ها برای هشدار در سمت راست تراز میشوند.
2. **Bottom** - دکمه‌ها زیر توضیحات هشدار قرار میگیرند و در سمت چپ تراز میشوند.

##### گزینه های اعلان نوع "Modal"

1. **Left** - دکمه‌ها در سمت چپ محتوای مودال ترازبندی میشوند.
2. **Center** - دکمه‌ها در مرکز قرار خواهند گرفت
3. **Right** - دکمه‌ها در سمت راست محتوای مودال ترازبندی میشوند.

#### Modal Display Trigger

این تنظیم به شما امکان میدهد انتخاب کنید که مودال چه زمانی در یک صفحه ظاهر شود. میتوانید گزینه "Page Load" را برای نمایش آن هنگام بارگذاری صفحه یا گزینه "Exit Intent" را برای نمایش آن هنگام خروج کاربر از صفحه انتخاب کنید.
![تنظیمات افزونه](/client-notif/notification_style-modal_display_trigger.png)

##### Page Load

وقتی این تنظیم انتخاب شود، وقتی مشتری صفحه‌ای را مطابق با "Display Rules" که قبلاً پیکربندی شده است بارگیری کند، پنجره‌ی به‌طور خودکار نمایش داده میشود. علاوه بر این، می‌توانید تأخیری را برای مدت زمان پس از بارگیری صفحه که پنجره‌ باید ظاهر شود، تعریف کنید.

##### Exit Intent

وقتی گزینه "Exit Intent" انتخاب شود، این پنجره فقط زمانی نمایش داده میشود که مشتری سعی در ترک وبسایت شما داشته باشد. این امکان را فراهم میکند تا قبل از خروج، یک فراخوان اضافی، مانند ارائه اطلاعات بیشتر یا یک پیشنهاد ویژه، ارائه دهید.

##### Click

این گزینه به شما امکان میدهد که مودال را فقط زمانی که به صورت دستی فعال میشود نمایش دهید. به عنوان مثال، میتوانید یک مودال را طوری تنظیم کنید که وقتی روی یک دکمه ای در ناحیه کاربری کلیک شود، ظاهر شود. برای انجام این کار، این مراحل را دنبال کنید:

1. کلاس `open-modal-christmas` را به دکمه‌ای که باید مودال را فعال کند، مثلاً در بخش صفحه، اضافه کنید.
2. از هوک‌ های WHMCS یا افزونه‌ [Lagom Custom Code](https://lagom-orpin.vercel.app/extensions/custom-code) برای اضافه کردن کد جاوا اسکریپت زیر استفاده کنید:

```javascript
document.addEventListener('DOMContentLoaded', function () {
  // Attach click event to all anchors with the class 'open-modal-christmas'
  document.querySelectorAll('.open-modal-christmas').forEach(function (anchor) {
    anchor.addEventListener('click', function (event) {
      event.preventDefault() // Prevent the default behavior of the anchor
      // Open the Bootstrap modal with the class 'modal-christmas-sale'
      var modalElement = document.querySelector('.modal-christmas-sale')
      if (modalElement) {
        var modal = new bootstrap.Modal(modalElement, {
          keyboard: true, // Allow closing the modal with the Escape key
        })
        modal.show() // Display the modal
      } else {
        console.error(
          'Modal element with the class "modal-christmas-sale" was not found.',
        )
      }
    })
  })
})
```

3. یک مودال ایجاد کنید و کلاس مناسب را به آن اختصاص دهید، که برای شناسایی و باز کردن مودال با استفاده از اسکریپت ارائه شده در بالا استفاده خواهد شد. در این حالت، کلاس `modal-christmas-sale` خواهد بود.

مثال بالا در [این پیشنمایش](https://demo.rsstudio.net/lagom-website-builder/client-notification) پیاده‌سازی شده است

#### Modal Display Delay

این ویژگی به شما امکان میدهد تا یک تأخیر زمانی قبل از نمایش ماژول در وبسایت خود تنظیم کنید. میتوانید مدت زمان تأخیر را برای بهینه‌سازی تجربه کاربری سفارشی کنید. مقدار را بر حسب میلی ثانیه وارد کنید.
![تنظیمات افزونه](/client-notif/notification_style-modal_display_delay.png)

#### Modal Size

این گزینه زمانی نمایش داده میشود که نوع "Modal" در فیلد ["Notification Type"](#notification-type) انتخاب شده باشد. میتوانید از گزینه‌های زیر انتخاب کنید.
![تنظیمات افزونه](/client-notif/notification_style-modal_size.png)

1. **Small** - مودال با عرض `300` پیکسل.
2. **Medium** - مودال با عرض `448` پیکسل.
3. **Large** - مودال با عرض `560` پیکسل.
4. **Extra Large** - مودال با عرض `800` پیکسل.

#### Display Default Icons

تصمیم بگیرید که آیا آیکون پیشفرض باید در پنجره‌های modal یا alerts نمایش داده شود یا خیر.
![تنظیمات افزونه](/client-notif/notification_style-default_icons.png)

آیکون های مختلف بر اساس "وضعیت اعلان" انتخاب شده نمایش داده میشوند.
![تنظیمات افزونه](/client-notif/notification_style-default_icon.png)

##### Alert

وقتی گزینه "Display Close Icon" برای [نوع اعلان](#notification-type) "Alert" **فعال** باشد، آیکون "بستن" در گوشه بالا سمت راست نشان داده میشود.
![تنظیمات افزونه](/client-notif/notification_style-alert_close_icon.png)

##### Modal

در زیر اطلاعات دقیقی در مورد اینکه برای نوع اعلان "modal" چه اتفاقی می‌افتد، بر اساس وضعیت گزینه "Display Close Icon" آمده است:

1. **Activated** - وقتی گزینه "Display Close Icon" فعال باشد، آیکون "بستن" در گوشه بالا سمت راست نمایش داده میشود. بازدیدکنندگان میتوانند با کلیک روی آیکون "بستن" یا با کلیک کردن در خارج از بدنه‌ی اعلان، آن را ببندند.
   ![تنظیمات افزونه](/client-notif/notification_style-modal_close_icon.png)
2. **Deactivated** - وقتی گزینه "Display Close Icon" غیرفعال باشد، دکمه "بستن" حذف میشود، علاوه بر این، مشتری نمیتواند با کلیک کردن در خارج از بدنه مودال، مودال را ببندد. این گزینه به مشتریان اجازه میدهد پیام را بخوانند و اقدام خاصی انجام دهند. مودال را میتوان با اضافه کردن دکمه از طریق ["مدیریت دکمه‌ها"](#) بست.

#### Enter Number of Days

این گزینه فقط در صورتی نمایش داده میشود که ["Display Close Icon"](#display-close-icon) فعال باشد.
![تنظیمات افزونه](/client-notif/notification_style-notification_closing_days.png)
بر اساس گزینه انتخاب شده، اقدامات مختلفی انجام خواهد شد.

##### 0 Days

وقتی مقدار روی 0 تنظیم شود، پس از بستن اعلان، با هر بار بارگذاری مجدد صفحه، دوباره نمایش داده میشود.

##### >=1 Days

اگر مقدار روز بزرگتر یا مساوی `1` تنظیم شود، انتخاب مشتری برای تعداد روزهای مشخص شده به خاطر سپرده میشود. برای مثال، اگر مقدار را 10 تنظیم کنید، "هشدار" به مدت `10` روز پس از کلیک مشتری روی آیکون "بستن" نمایش داده نمیشود.

برای [نوع اعلان](#notification-type) "modal"، برای به خاطر سپردن این اقدامات، مشتریان مجبور خواهند بود روی کادر تأیید کلیک کنند که در پایین مودال نشان داده میشود.
![تنظیمات افزونه](/client-notif/notification_style-modal_close_icon_remember.png)

### Notification Content

#### Choose Language To Edit

شما میتوانید اعلان‌ها را به چندین زبان ایجاد کنید، این گزینه به شما امکان میدهد تصمیم بگیرید که پس از سفارشی‌سازی محتوا، اعلان مورد نظر برای چه زبانی نمایش داده شود.
![تنظیمات افزونه](/client-notif/notification_content-choose_language.png)

#### title

رشته عنوان در "modals" و "alerts" نمایش داده خواهد شد:
![تنظیمات افزونه](/client-notif/notification_style-modal_title.png)

میتوانید این فیلد را خالی بگذارید، بنابراین هیچ عنوانی نمایش داده نمیشود، که به شما امکان میدهد یک پنجره‌ی مودال ایجاد کنید، که در آن تصاویر تمام فضای بالا را پر میکنند، مانند مثال زیر:
![تنظیمات افزونه](/client-notif/notification_content-empty_title.png)

#### Message

تنظیم پیام اعلان - این فیلدها به شما امکان میدهند اقدامات پیشرفته‌ای روی متن خود انجام دهید یا از ابزار برای قرار دادن کد HTML خود استفاده کنید.
{% video src="/client-notif/notification_content-message.mp4" %}{% /video %}

#### Icon

آیکون پیشفرض هشدار را با آیکون انتخاب‌ شده جایگزین کنید و آیکون یا تصویر جدید را در پنجره‌ی نمایش قرار دهید. درباره پنجره‌ی نمایش ["مدیریت رسانه"](#) بیشتر بدانید.
![تنظیمات افزونه](/client-notif/notification_content-icon.png)

1. **Edit** - آیکون قلم، به شما امکان میدهد تصویر انتخاب‌ شده‌ی فعلی را جایگزین کنید. با کلیک روی آن، پنجره‌ی ["مدیریت رسانه"](#) نمایش داده میشود.
2. **Remove** - آیکون سطل زباله، به شما امکان میدهد آیکون اختصاص داده شده فعلی را حذف کنید. این عمل، تصویر را حذف نمیکند، اما انتخاب را ریسیت میکند.

#### Buttons

با استفاده از مودال ["مدیریت دکمه‌ها"](#)، دکمه‌های خودتان را ایجاد کنید.
![تنظیمات افزونه](/client-notif/notification_content-buttons.png)

### Notification Settings

#### General

![تنظیمات افزونه](/client-notif/notification_settigns-general.png)

1. **Name** - نام اعلان، این نام در جدول ["لیست اعلان‌ها"](#lyst-aelan-ha) فهرست خواهد شد.
2. **Custom Class** - اجازه میدهد کلاس سفارشی اختصاص دهید، که سپس میتواند برای اهداف پیشرفته مانند استایل‌بندی سفارشی، از طریق فایل CSS استفاده شود.
3. **Publish Notification** - پس از فعالسازی، اعلان شما در قالب لاگوم نمایش داده خواهد شد.

#### Display Time

با فعال کردن عملکرد "Display Time"، میتوانید محدوده زمانی را که اعلان برای آن نمایش داده میشود، پیکربندی کنید.
![تنظیمات افزونه](/client-notif/notification_settigns-date.png)

1. **Start Date** - تاریخ شروع نمایش اعلان را تنظیم کنید.
2. **End Date** - تاریخ پایان نمایش اعلان را تنظیم کنید.

#### Last Modification

تاریخ و زمان ذخیره اعلان را نمایش دهید، علاوه بر این، نشان میدهد چه کسی آخرین تغییر را انجام داده است.
![تنظیمات افزونه](/client-notif/notification_settigns-modification.png)

## متغییرهای پیام {% version v="1.1.0" %}{% /version %}

از نسخه 1.1.0 این محصول، شما میتوانید متغیرها را در پیام‌های خود وارد کنید که سپس با اعداد یا رشته‌های خاص جایگزین میشوند. لیست متغیرهای موجود را بررسی کنید:

### عمومی

1. `{Services}` - تعداد "سرویس‌" ها که با فیلتر پیکربندی‌شده در این اعلان مطابقت دارند.
2. `{Domains}` - تعداد "دامنه‌هایی" که با فیلتر پیکربندی در این اعلان مطابقت دارند
3. `{Unpaid Invoices}` - تعداد "فاکتورهای پرداخت نشده" مشتری فعلی وارد شده.
4. `{Overdue Invoices}` - تعداد "فاکتورهای سررسید" مشتری فعلی وارد شده.
5. `{Total Due Invoices Balance}` - مبلغ کل "فاکتورهای سررسید" مشتری فعلی وارد شده.
6. `{Client Name}` - نام کامل مشتری که در حال حاضر وارد سیستم شده است.
7. `{Client First Name}` - نام مشتری که در حال حاضر وارد سیستم شده است.
8. `{Client last Name}` - نام خانوادگی مشتری که در حال حاضر وارد سیستم شده است.
9. `{Client Email Address}` - آدرس ایمیل مشتری که در حال حاضر وارد سیستم شده است.
10. `{Client Company Name}` - نام شرکت مشتری که در حال حاضر وارد سیستم شده است.
11. `{Client Credit Balance}` - موجودی کیف پول مشتری فعلی وارد شده.

### تایمر {% version v="1.2.0" %}{% /version %}

تایمر قابلیتی است که به شما امکان میدهد یک شمارش معکوس به اعلان خود اضافه کنید و زمان باقیمانده برای یک رویداد، مانند تخفیف، را اندازه‌گیری و نمایش دهید. این تایمر دو اندازه و چهار سبک گرافیکی برای انتخاب دارد. برای یادگیری نحوه پیکربندی تایمر، اطلاعات زیر را مطالعه کنید.

برای فعال کردن تایمر، باید ویژگی [نمایش زمان](#display-time) را فعال کنید و از متغیر `{Alert Expiry Counter}` در پیام خود استفاده کنید. این متغیر از اصلاح‌کننده‌های اندازه و سبک ذکر شده در جدول زیر پشتیبانی میکند.

#### اندازه تایمر

##### اندازه پیشفرض

این اندازه پیشفرض است، به این معنی که نیازی به تغییر متغیر پیام ندارید - کافیست از `{Alert Expiry Counter}` استفاده کنید.
![تنظیمات افزونه](/client-notif/client_notification-timer-default.png)

##### اندازه کوچک

برای استفاده از اندازه کوچک، کافیست `Size-Small` را به متغیر اضافه کنید. باید به این شکل باشد: `{Alert Expiry Counter Size-Small}`.
![تنظیمات افزونه](/client-notif/client_notification-timer-small.png)

##### اندازه خیلی کوچک

برای استفاده از اندازه کوچک، کافیست `Size-Extra-Smal` را به متغیر اضافه کنید. باید به این شکل باشد: `{Alert Expiry Counter Size-Extra-Smal}`.
![تنظیمات افزونه](/client-notif/client_notification-timer-extra_small.png)
